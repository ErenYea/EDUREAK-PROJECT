"use strict";var express=require("express"),routes=require("./routes"),http=require("http"),path=require("path"),urlencoded=require("url"),bodyParser=require("body-parser"),json=require("json"),logger=require("logger"),methodOverride=require("method-override"),nano=require("nano")("http://drstone:loveisone@localhost:5984"),db=nano.use("address"),app=express();app.set("port",process.env.PORT||3e3),app.set("views",path.join(__dirname,"views")),app.set("view engine","jade"),app.use(bodyParser.json()),app.use(bodyParser.urlencoded()),app.use(methodOverride()),app.use(express.static(path.join(__dirname,"public"))),app.get("/",routes.index),app.post("/createdb",function(o,r){nano.db.create(o.body.dbname,function(e){e?r.send("Error careating the Database"+o.body.dbname):r.send("Database "+o.body.dbname+"created succesfully")})}),app.post("/new_contact",function(e,n){var o=e.body.name,r=e.body.phone;db.insert({name:o,phone:r,crazy:!0},photo,function(e,o,r){e?n.send("Error creating contact"):n.send("Contact created succesfully")})}),app.post("/view_contact",function(e,r){var n="Follofwing are the contacts";db.get(e.body.phone,{revs_info:!0},function(e,o){e&&console.log(o),o?n+="Nmae:"+o.name+"<br/>Phone Number:"+o.phone:n="No records found",r.send(n)})}),app.post("/delete_contact",function(r,n){db.get(r.body.phone,{revs_info:!0},function(e,o){e&&db.destroy(r.body.phone,o._rev,function(e,o){e?n.send("Error deleting contact"):n.send("Contacts deleted succesfully")})})}),http.createServer(app).listen(app.get("port"),function(){console.log("Express server listeninig on port"+app.get("port"))});
//# sourceMappingURL=app.min.js.map
